@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--bg: theme(colors.sand.50);
		--panel: #ffffff;
		--sidebar: #111114;
		--sidebar-muted: #1b1c21;
		--text: #151517;
	}
	html, body, #root {
		height: 100%;
	}
	body {
		@apply bg-sand-50 text-ink-900 antialiased dark:bg-ink-900 dark:text-ink-50;
		background-image: radial-gradient(1000px 400px at 10% -10%, rgba(108,99,255,0.10), transparent),
			linear-gradient(180deg, rgba(124, 118, 255, 0.05), rgba(0,0,0,0));
		background-attachment: fixed;
		transition: background-color 250ms ease, color 250ms ease, background-image 300ms ease;
	}
	.dark body {
		background-image: radial-gradient(1000px 400px at 90% -10%, rgba(123,95,255,0.10), transparent),
			linear-gradient(180deg, rgba(20,20,28,0.6), rgba(12,12,18,0));
	}
}

@layer components {
	.text-primary {
		@apply text-ink-900 dark:text-ink-50;
	}
	.text-secondary {
		@apply text-ink-600 dark:text-ink-300;
	}
	.icon-muted {
		@apply text-ink-500 dark:text-ink-300;
	}
	.icon-contrast {
		@apply text-ink-900 dark:text-ink-50;
	}
	/* Responsive icon sizing */
	.icon { font-size: clamp(18px, 3.5vw, 22px); line-height: 1; display: inline-block; }
	.icon-sm { font-size: clamp(16px, 3vw, 20px); line-height: 1; display: inline-block; }
	.card {
		@apply rounded-xl bg-white shadow-card border border-sand-200 dark:bg-ink-800 dark:border-ink-600;
		@apply transition-transform duration-300;
	}
	.section-title {
		@apply text-ink-900 font-semibold text-lg tracking-tight dark:text-ink-50;
	}
	.btn {
		@apply inline-flex items-center justify-center gap-2 px-3 py-3 rounded-lg text-sm font-medium;
		@apply focus:outline-none focus:ring-2 focus:ring-brand-500 dark:focus:ring-brand-400;
		@apply sm:py-2;
	}
	/* Touch-first icon button min target */
	.icon-btn {
		@apply grid place-items-center rounded-lg h-11 w-11 sm:h-9 sm:w-9;
	}
	/* Reduce tap highlight on mobile */
	.no-tap-highlight { -webkit-tap-highlight-color: transparent; }
	/* Safe bottom padding for phones with insets */
	.safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
	.btn-primary {
		/* Overriding to use a bolder professional brand tone */
		@apply btn text-white;
		background-color: #6C63FF;
		transition: background-color 200ms ease;
	}
	.btn-primary:hover { background-color: #7B5FFF; }
	.btn-primary:focus { box-shadow: 0 0 0 3px rgba(108,99,255,0.35); }
	.btn-outline {
		@apply btn border border-sand-300 bg-white hover:bg-sand-100 text-ink-700 dark:border-ink-600 dark:bg-ink-700 dark:text-ink-50 dark:hover:bg-ink-600;
	}
	.btn-ghost {
		@apply btn bg-transparent text-ink-700 hover:bg-sand-100 dark:text-ink-50 dark:hover:bg-ink-700;
	}
	.link {
		@apply inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 underline underline-offset-2 dark:text-brand-300 dark:hover:text-brand-200;
	}
	.kbd {
		@apply rounded border border-sand-300 bg-white px-1.5 py-0.5 font-mono text-xs text-ink-700 shadow-sm dark:border-ink-600 dark:bg-ink-700 dark:text-ink-200;
	}
	.input {
		@apply rounded-lg border border-sand-300 px-3 py-3 bg-white placeholder:opacity-60 dark:bg-ink-700 dark:border-ink-600 dark:text-ink-50 dark:placeholder:text-ink-300;
		@apply focus:outline-none focus:ring-2 focus:ring-brand-500 dark:focus:ring-brand-400 focus:border-brand-300 dark:focus:border-brand-500;
		@apply sm:py-2;
	}
	.badge {
		@apply inline-flex items-center gap-1 rounded-md px-2 py-0.5 text-xs font-medium;
	}
	.badge-brand {
		@apply badge bg-brand-100 text-brand-800 dark:bg-brand-700/30 dark:text-brand-200;
	}
	.badge-pink {
		@apply badge bg-pink-100 text-pink-800 dark:bg-pink-400/20 dark:text-pink-200;
	}
	.badge-blue {
		@apply badge bg-blue-100 text-blue-800 dark:bg-blue-400/20 dark:text-blue-200;
	}
	.badge-green {
		@apply badge bg-emerald-100 text-emerald-800 dark:bg-emerald-400/20 dark:text-emerald-200;
	}
	.badge-red {
		@apply badge bg-red-100 text-red-800 dark:bg-red-400/20 dark:text-red-200;
	}
	.badge-amber {
		@apply badge bg-amber-100 text-amber-800 dark:bg-amber-400/20 dark:text-amber-200;
	}
	.badge-slate {
		@apply badge bg-slate-100 text-slate-800 dark:bg-slate-400/20 dark:text-slate-200;
	}
	.section-gradient {
		background-image: linear-gradient(140deg, rgba(255,255,255,0.0), rgba(16,16,19,0.02));
	}
}

/* Card hover elevation */
.card:hover {
	@apply -translate-y-0.5;
}

/* Animation utilities */
@keyframes fade-in {
	from { opacity: 0; }
	to { opacity: 1; }
}
@keyframes slide-up {
	from { opacity: 0; transform: translateY(8px); }
	to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-in-left {
	from { transform: translateX(-100%); }
	to { transform: translateX(0); }
}
@keyframes scale-in {
	from { opacity: 0; transform: scale(0.98); }
	to { opacity: 1; transform: scale(1); }
}

.animate-fade-in {
	animation: fade-in 300ms ease-out both;
}
.animate-slide-up {
	animation: slide-up 300ms ease-out both;
}
.animate-slide-in-left {
	animation: slide-in-left 280ms cubic-bezier(0.2, 0.8, 0.2, 1) both;
}
.animate-scale-in {
	animation: scale-in 240ms ease-out both;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
	.animate-fade-in,
	.animate-slide-up,
	.animate-slide-in-left,
	.animate-scale-in {
		animation: none !important;
	}
}


